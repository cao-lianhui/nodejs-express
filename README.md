# nodejs-express-ejs

nodejs基于express框架搭建文件上传,ejs动态改变html数据

express一个基于web的框架，可以写一些网站、聊天室、商城为前端提供api,做一些博客之类的，

express的三个常用特性：

1.路由系统，较简单，清晰，好维护。

2.模板引擎

3.中间件系统：对请求和响应之间的过程进行处理

安装express

npm install --save express

安装body-parser,处理post表单请求

npm install --save body-parser

安装multer处理表单的文件上传

npm install multer --save

安装模板引擎：ejs

npm install ejs --save;

模板引擎可以在html中动态的嵌入一些动态的数据，默认访问

为当前目录下的views文件

中间件(middleware):

请求：浏览器发送一个请求到服务器，其实就是一个输入的过程

响应：服务器把一些内容格式化之后响应给浏览器，比如响应一些json、html纯文本之类的格式发送给浏览器

中间件：请求过来了进行处理，再响应给浏览器，这个处理的过程就是中间件发挥的作用，在不同系统中中间件有不同的定义，但基本上都是相同的，主要是中间这两个字发挥的作用，就是进行一个处理，中间件是有很多个的，比如说一个系统有n个中间件，第一个中间件处理完之后再传给下一个中间件，依此类推，指导所有的中间件处理完之后，再把结果响应给浏览器，也就是说对于请求处理的过程就是中间件发挥的作用。

使用中间件个人觉得主要有两个好处：1.共用模块，把一个功能都抽成一个中间件，对一些路由，数据库的处理过程都可以抽成一个中间件，然后放到网上，提供下载，这就是第三方的中间件了。2.全局性的对请求进行操作，比如说处理一些日志，还有对错误的处理之类的。

中间件分有很多类型，比如：1.应用级的中间件、2.路由级的中间件、3.错误层次的中间件，还有一些模块内置的中间件。

